<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Expires" content="-1" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Refactoring harvest</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/weekly-digest/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/weekly-digest/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/weekly-digest">Selfish development weekly digest</a></h1>
          </div>

          <h2>Refactoring harvest</h2>
<p class="meta">30 Nov 2013</p>

<div class="post">
<h1>Ufa Design Proposal</h1>

<p>This week Ufa team introduced design proposal for Selfish. This proposal includes design and UX decisions for story and post pages. You can download the design proposal <a href="http://ge.tt/5rldTS71/v/0?c">here</a></p>

<p><img src="http://i.minus.com/ibqHGWVfTY2by1.png" alt="Alt design proposal"></p>

<h1>Added a possibility to align image with floating text in wysiwyg</h1>

<p>User can set alignment image to left, right or center with text wrapping around it (only if image has left or right alignment).</p>

<p><img src="http://i.minus.com/iBwt08iyzCwNB.png" alt="Alt image float"></p>

<h1>Popup refactoring comlete</h1>

<p>All popups now working through popups manager.
It is a module, located in <code>/modules/popups-manager/</code> directory. Module include 2 directives ( <code>slf-popup-nest</code>, <code>slf-popup</code> ) and one template.</p>

<p>Here is a little example through this directives:</p>

<ul>
<li>slfPopupNest directive</li>
</ul>

<p>Directive should be located on main content element wrapper. It transclude main content and manage popups.
<code>index.html</code> file now looks like this:</p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;div</span> <span class="na">data-slf-popup-nest</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;header&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;container-view&quot;</span> <span class="na">data-ng-view</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div>

<p>After directive fired html changes this way:</p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;div</span> <span class="na">data-slf-popup-nest</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">data-ng-transclude</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;header&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;container-view&quot;</span> <span class="na">data-ng-view</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;popup-windows&quot;</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- ngRepeat: window in windows --&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div>

<p>slfPopupNest directive manipulates windows array. Every windows item has “src” (path to popup template), “params” ( object, that popup controller use as input parameters) and “hideMainContent” option ( hide transcluded content if this window is active )
slfPopupNest directive also close popups on ESC key and close all popups if route changes</p>

<h1>File System Refactoring complete</h1>

<p>All File Services separated, <code>Stash</code>, <code>Ribbon</code>, <code>UploadPopUp</code> new controllers and services. Files stores in cache, after upload files receive themselfs metadata. Fixed cover creation, avatar change, upload files to post.</p>

<h1>Diff updates and update log in deploy scheme</h1>

<p>Diff updates with updates logged in deploy scheme and sended to developers after each deploy.</p>

<hr>

<p>Check out <a href="http://test.selfish.frumatic.com">our test server</a> for latest updates. File all bugs/feature requests at <a href="http://jira.frumatic.com/">Jira</a>.</p>

</div>


          <div class="footer">
            <!-- <div class="contact">
              <p>
                Your Name<br />
                What You Are<br />
                you@example.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/yourusername">github.com/yourusername</a><br />
                <a href="https://twitter.com/yourusername">twitter.com/yourusername</a><br />
              </p>
            </div> -->
          </div>
        </div>

    </body>
</html>
